---
title: "Improving the Global Terrorism Index Visualization"
author: "Coral Team"
format: html
editor: visual
---

## Introduction

The original chart visualizing the Global Terrorism Index lacked clarity in terms of trends and country comparisons across time. Our objective is to improve interpretability while preserving the integrity of the data.

## Original Visualization

![Original GTI Chart](data/Original Chart.jpeg)

**Critique**:
  
- ❌ Hard to distinguish year-on-year trends
  
- ❌ Poor use of color gradients
  
- ✅ Includes core metrics: Score, Rank, etc.

## Data Preparation

We used the *Global Terrorism Index 2023.xlsx* file from the Institute for Economics and Peace. The `Overall Scores` sheet was selected due to its completeness and structured format.

```{r}

library(readxl)
library(dplyr)
library(tidyr)
library(ggplot2)

# Load the data
df <- read_excel("data/Global Terrorism Index 2023.xlsx", sheet = "Overall Scores")

# Convert to long format
long_df <- df %>%
  pivot_longer(cols = matches("^[0-9]{4} Score$"), names_to = "Year", values_to = "Score") %>%
  mutate(Year = as.integer(gsub(" Score", "", Year)))

# Filter top 15 countries based on latest score
top15 <- df %>%
  select(Country, `2022 Score`) %>%
  arrange(desc(`2022 Score`)) %>%
  slice(1:15) %>%
  pull(Country)

filtered_df <- long_df %>%
  filter(Country %in% top15)

# Plot the data
ggplot(filtered_df, aes(x = Year, y = Score, color = Country)) +
  geom_line(linewidth = 1.2) +   # ← updated here
  geom_point() +
  theme_minimal() +
  labs(title = "Top 15 Countries by Terrorism Index Score (2012–2022)",
       y = "GTI Score",
       x = "Year",
       color = "Country") +
  theme(plot.title = element_text(hjust = 0.5, face = "bold"),
        legend.position = "bottom",
        legend.title = element_text(face = "bold"))

```
